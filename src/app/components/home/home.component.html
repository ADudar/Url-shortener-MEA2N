<h2>
  Url Shortener
</h2>
<form #linkForm="ngForm" (submit)="getShortUrl()">
  <input required type="url" placeholder="INSERT YOUR LONG URL HERE" class="form-control" [(ngModel)]="link.longUrl" name="longUrl">  <br>
  <input required type="text" placeholder="WRITE DESCRIPTION" class="form-control" [(ngModel)]="link.description" name="description">  <br>
  <input required type="text" placeholder="WRITE TAGS" class="form-control" [(ngModel)]="link.tags" name="tags"> <br>
  <button type="submit" class="btn btn-primary">Shorten</button>
</form>
<br>
<div class="row" *ngIf="shortedLink">
  <form class="form-inline">
    <div class="form-group">
      <label for="shortUrlInput">
       Short url <i class="fa fa-chevron-right"></i><i class="fa fa-chevron-right"></i>
      </label>
      <input id="shortUrlInput" type="text" class="form-control" #shortUrlInput value="{{shortedLink}}" readonly="readonly">
      <button class="btn btn-secondary" type="button" [class.btn-success]="shortLinkisCopied" [ngxClipboard]="shortUrlInput" [cbContent]="text"
        (cbOnSuccess)="shortLinkisCopied = true">
                Copy
        </button>
    </div>
  </form>
</div>
<br/>
<table class="table table-hover adaptive-table" *ngIf="links.length > 0">
  <tr>
    <th> LONGURL</th>
    <th> SHORTURL</th>
    <th> DESCRIPTION</th>
    <th> TAGS</th>
    <th> CLICKS</th>
    <th> ABOUT</th>
    <th> CHANGE</th>
    <th> DELETE</th>
  </tr>
  <tr *ngFor="let link of links">
    <td class=""> {{link.longUrl}}</td>
    <td><a href="{{link.shortUrl}}">{{link.shortUrl}} </a></td>
    <td> {{link.description}}</td>
    <td> {{link.tags}}</td>
    <td> {{link.clicks}}</td>
    <td><a  [routerLink]="['/details', link._id]" > details </a></td>
    <td><a [routerLink]="['/change', link._id]" class="btn btn-warning">Change</a></td>
    <td>
      <button (click)="deleteLink(link._id)" class="btn btn-danger">Delete</button>
    </td>
  </tr>
</table>
<div class="row show-hide-message" [hidden]="!message">
  <div class="col-sm-6 col-sm-offset-2">
    <div class="alert alert-info">
      {{ message }}
    </div>
  </div>
</div>
